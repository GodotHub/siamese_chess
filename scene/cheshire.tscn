[gd_scene load_steps=31 format=3 uid="uid://bjdbj6ulswxgl"]

[ext_resource type="PackedScene" uid="uid://s1v4ec45m2i5" path="res://assets/model/cheshire.glb" id="1_lkfns"]
[ext_resource type="Script" uid="uid://ckqop5jjivbg0" path="res://src/cheshire.gd" id="2_lp02k"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3kauh"]
animation = &"battle_attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2ct1d"]
animation = &"battle_died"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lp02k"]
animation = &"battle_idle"
advance_on_start = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uowm0"]
animation = &"battle_move"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ftdew"]
animation = &"battle_target"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lidw1"]
animation = &"handshake"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uniqn"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_iy7iy"]
animation = &"thinking"

[sub_resource type="Curve" id="Curve_lp02k"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uowm0"]
xfade_time = 0.2
xfade_curve = SubResource("Curve_lp02k")

[sub_resource type="Curve" id="Curve_lidw1"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uniqn"]
xfade_time = 0.2
xfade_curve = SubResource("Curve_lidw1")

[sub_resource type="Curve" id="Curve_2ct1d"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pjgvl"]
xfade_time = 0.3
xfade_curve = SubResource("Curve_2ct1d")
switch_mode = 1

[sub_resource type="Curve" id="Curve_cm4hu"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_a5ln7"]
xfade_time = 0.05
xfade_curve = SubResource("Curve_cm4hu")
switch_mode = 1

[sub_resource type="Curve" id="Curve_uowm0"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.434286, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_68j70"]
xfade_time = 0.7
xfade_curve = SubResource("Curve_uowm0")
switch_mode = 1
advance_mode = 2

[sub_resource type="Curve" id="Curve_3kauh"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_cm4hu"]
xfade_time = 0.1
xfade_curve = SubResource("Curve_3kauh")

[sub_resource type="Curve" id="Curve_iy7iy"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4on3n"]
xfade_time = 0.1
xfade_curve = SubResource("Curve_iy7iy")

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_pjgvl"]
states/End/position = Vector2(826, 129.333)
states/Start/position = Vector2(185.333, 101.63)
states/battle_attack/node = SubResource("AnimationNodeAnimation_3kauh")
states/battle_attack/position = Vector2(676, -46)
states/battle_died/node = SubResource("AnimationNodeAnimation_2ct1d")
states/battle_died/position = Vector2(676, 136.626)
states/battle_idle/node = SubResource("AnimationNodeAnimation_lp02k")
states/battle_idle/position = Vector2(428.889, 70.6264)
states/battle_move/node = SubResource("AnimationNodeAnimation_uowm0")
states/battle_move/position = Vector2(428.889, 179.333)
states/battle_target/node = SubResource("AnimationNodeAnimation_ftdew")
states/battle_target/position = Vector2(676, 48)
states/handshake/node = SubResource("AnimationNodeAnimation_lidw1")
states/handshake/position = Vector2(868.333, -32.3736)
states/idle/node = SubResource("AnimationNodeAnimation_uniqn")
states/idle/position = Vector2(521, 265)
states/thinking/node = SubResource("AnimationNodeAnimation_iy7iy")
states/thinking/position = Vector2(666.333, 265)
transitions = ["battle_idle", "battle_move", SubResource("AnimationNodeStateMachineTransition_uowm0"), "battle_move", "battle_idle", SubResource("AnimationNodeStateMachineTransition_uniqn"), "battle_idle", "battle_target", SubResource("AnimationNodeStateMachineTransition_pjgvl"), "battle_target", "battle_attack", SubResource("AnimationNodeStateMachineTransition_a5ln7"), "battle_attack", "battle_idle", SubResource("AnimationNodeStateMachineTransition_68j70"), "battle_target", "battle_died", SubResource("AnimationNodeStateMachineTransition_cm4hu"), "battle_idle", "battle_died", SubResource("AnimationNodeStateMachineTransition_4on3n")]
graph_offset = Vector2(35, -53)

[sub_resource type="Curve" id="Curve_uniqn"]
_limits = [0.0, 3.0, 0.0, 1.0]
_data = [Vector2(0, 0), 0.0, 0.118067, 0, 0, Vector2(1, 1.00067), 2.09419, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_iy7iy"]
curve = SubResource("Curve_uniqn")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_3kauh"]
direction = Vector3(0, 0, -1)
spread = 32.0
initial_velocity_min = 1.0
initial_velocity_max = 4.12
gravity = Vector3(0, -0.5, 0)
damping_min = 2.0
damping_max = 2.0
scale_over_velocity_max = 1.0
scale_over_velocity_curve = SubResource("CurveTexture_iy7iy")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ftdew"]
albedo_color = Color(0.16, 0.0784, 0.0784, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_2ct1d"]
material = SubResource("StandardMaterial3D_ftdew")
size = Vector2(0.1, 0.1)

[node name="cheshire" instance=ExtResource("1_lkfns")]
script = ExtResource("2_lp02k")
piece_type = [107, 110]

[node name="Skeleton3D" parent="skeleton" index="0"]
bones/0/position = Vector3(1.43559e-13, 0.907643, -0.0901025)
bones/0/rotation = Quaternion(-0.0115762, -0.0110192, 0.000127577, 0.999872)
bones/1/rotation = Quaternion(0.0763152, 0.0156456, -0.000484483, 0.996961)
bones/2/rotation = Quaternion(0.142057, -0.0217198, -0.00179009, 0.989619)
bones/3/rotation = Quaternion(-0.0735721, 0.0172248, 0.00127088, 0.99714)
bones/5/rotation = Quaternion(0.246308, -0.0230287, 0.0317005, 0.968399)
bones/9/rotation = Quaternion(0.24818, -0.309091, -0.00890805, 0.918036)
bones/11/rotation = Quaternion(0.0625751, 0.00921434, -0.776099, 0.627431)
bones/12/rotation = Quaternion(0.0244778, -0.0189637, -0.281847, 0.95896)
bones/13/rotation = Quaternion(0.867276, 0.0234288, -0.377001, 0.324274)
bones/14/rotation = Quaternion(0.170885, -0.218064, -0.068443, 0.958416)
bones/15/rotation = Quaternion(-0.452482, -0.0763614, -0.484575, 0.744726)
bones/16/rotation = Quaternion(-0.363218, -0.0521736, -0.348071, 0.862669)
bones/17/rotation = Quaternion(-0.331375, -0.0432509, -0.339712, 0.879156)
bones/18/rotation = Quaternion(0.0691247, -0.035051, -0.0355784, 0.996357)
bones/19/rotation = Quaternion(-0.161733, -0.056186, -0.580949, 0.795728)
bones/20/rotation = Quaternion(-0.286321, -0.0539795, -0.468873, 0.833825)
bones/21/rotation = Quaternion(-0.229861, -0.0315396, -0.391863, 0.890288)
bones/22/rotation = Quaternion(-0.0103737, 0.0774362, -0.0251577, 0.996626)
bones/23/rotation = Quaternion(0.00357861, -0.020334, -0.563924, 0.825568)
bones/24/rotation = Quaternion(-0.221195, -0.002162, -0.535844, 0.814825)
bones/25/rotation = Quaternion(-0.15599, -0.0079807, -0.412939, 0.897265)
bones/26/rotation = Quaternion(-0.101131, 0.179566, -0.0413044, 0.977662)
bones/27/rotation = Quaternion(0.167306, 0.0289917, -0.458917, 0.872103)
bones/28/rotation = Quaternion(-0.127172, -0.0607929, -0.632369, 0.761736)
bones/29/rotation = Quaternion(-0.181333, -0.0179213, -0.380726, 0.906557)
bones/31/rotation = Quaternion(0.225352, -0.0551881, -0.198942, 0.952152)
bones/32/rotation = Quaternion(-0.0596354, -0.296846, -0.111321, 0.946538)
bones/33/rotation = Quaternion(-0.218174, 0.203702, 0.750061, 0.590181)
bones/34/rotation = Quaternion(-0.25551, 0.398069, 0.493258, 0.730036)
bones/35/rotation = Quaternion(0.559224, -0.415734, 0.705288, 0.130396)
bones/36/rotation = Quaternion(-0.0326736, 0.960137, 0.178031, 0.213013)
bones/37/rotation = Quaternion(-0.131899, -0.459296, -0.427246, 0.767535)
bones/38/rotation = Quaternion(-0.158924, -0.0750913, -0.108861, 0.978393)
bones/39/rotation = Quaternion(0.0124138, 0.0688495, 0.0332293, 0.996996)
bones/40/rotation = Quaternion(-0.0518539, 0.992289, 0.0516984, -0.100004)
bones/41/rotation = Quaternion(0.193116, 0.924355, 0.262945, -0.197822)
bones/42/rotation = Quaternion(-0.232859, -0.0264132, 0.0879231, 0.968168)
bones/43/rotation = Quaternion(0.00697865, 0.0173467, -0.00179878, 0.999824)
bones/44/rotation = Quaternion(-0.036394, 0.825271, -0.0212793, 0.563161)
bones/45/rotation = Quaternion(0.166748, 0.935663, -0.259348, 0.171663)
bones/46/rotation = Quaternion(0.164162, -0.0512899, 0.137288, 0.975486)
bones/47/rotation = Quaternion(-0.000193865, -0.0169556, -0.00367839, 0.99985)
bones/48/rotation = Quaternion(-0.00782115, 0.983279, -0.136574, 0.120201)
bones/49/rotation = Quaternion(0.134735, 0.422636, -0.325584, 0.834997)
bones/50/rotation = Quaternion(0.181676, -0.192618, -0.0199277, 0.964103)
bones/51/rotation = Quaternion(0.0521888, 0.0368915, -0.0613953, 0.996065)
bones/52/rotation = Quaternion(0.00397605, 0.595794, 0.350057, 0.722824)
bones/54/rotation = Quaternion(-0.120835, -0.0623947, -0.0461514, 0.989634)
bones/55/position = Vector3(2.468e-08, 0.907643, -0.0901025)
bones/55/rotation = Quaternion(0.640789, 0.349008, 0.601546, -0.325154)
bones/56/rotation = Quaternion(-0.437868, 0.00202958, -0.00958305, 0.898986)
bones/57/rotation = Quaternion(-0.000241965, 0.00499957, 0.00323389, 0.999982)
bones/57/scale = Vector3(1, 1, 1)
bones/59/rotation = Quaternion(0.150638, -0.00347244, 0.0201643, 0.988377)
bones/60/position = Vector3(0, 0.907643, -0.0901025)
bones/60/rotation = Quaternion(-0.806894, -8.65938e-18, 7.03388e-18, 0.590697)
bones/61/position = Vector3(-4.65661e-10, 0.881971, -0.171095)
bones/61/rotation = Quaternion(0.562153, -0.137228, 0.692535, -0.430752)
bones/62/rotation = Quaternion(0.0112588, 0.0161543, 0.000525919, 0.999806)
bones/63/rotation = Quaternion(-0.0255593, 4.36558e-09, -0.00160813, 0.999672)
bones/64/rotation = Quaternion(-0.187956, -3.07045e-09, -0.0118256, 0.982106)
bones/65/rotation = Quaternion(-0.20651, 1.48721e-08, -0.0129931, 0.978358)
bones/66/rotation = Quaternion(-0.0978011, -2.75031e-08, -0.00615336, 0.995187)
bones/67/rotation = Quaternion(-0.053914, 1.39062e-09, -0.00339212, 0.99854)
bones/68/position = Vector3(-7.10133e-08, 0.907643, -0.0901025)
bones/68/rotation = Quaternion(0.647207, -0.328377, 0.612438, 0.313385)
bones/69/rotation = Quaternion(0.413239, 0.0605667, -0.0309341, 0.90808)
bones/70/rotation = Quaternion(0.000255542, 0.00509783, 0.0032666, 0.999982)
bones/70/scale = Vector3(1, 1, 1)
bones/71/rotation = Quaternion(0.42004, 0.520702, -0.462605, 0.581749)
bones/72/rotation = Quaternion(0.1437, 0.00565465, -0.0494842, 0.988367)
bones/73/position = Vector3(-0.376883, 0.926231, 0.00117496)
bones/73/rotation = Quaternion(0.431594, 0.00285409, 0.0773692, 0.898739)
bones/74/position = Vector3(-0.215785, 1.04877, -0.0442956)
bones/74/rotation = Quaternion(-0.483645, 0.2309, -0.809337, 0.240305)
bones/75/position = Vector3(0.152721, 0.0403637, -0.0366966)
bones/75/rotation = Quaternion(0.498233, -0.501761, 0.501761, -0.498233)
bones/75/scale = Vector3(1.00007, 1, 1.96985)
bones/76/position = Vector3(-0.461618, -0.109098, -0.0207867)
bones/76/rotation = Quaternion(-0.00232929, 0, 0.999997, 0)
bones/76/scale = Vector3(0.999999, 1, 0.746141)
bones/77/position = Vector3(-0.144263, 0.0403636, -0.0366966)
bones/77/rotation = Quaternion(-0.500086, 0.499914, -0.499915, 0.500085)
bones/77/scale = Vector3(1, 1, 1.96988)
bones/78/position = Vector3(-0.461874, -0.109098, 0.017686)
bones/78/rotation = Quaternion(0.00571373, 0, 0.999984, 0)
bones/78/scale = Vector3(0.999891, 1, 0.746144)
bones/79/position = Vector3(0.144911, 1.30232, 0.0550881)
bones/79/rotation = Quaternion(0.117998, -0.0116518, -0.00138465, 0.992944)
bones/80/position = Vector3(-0.0183877, 1.33254, 0.079154)
bones/80/rotation = Quaternion(0.116896, 0.135897, 0.0161495, 0.98367)
bones/81/position = Vector3(-1.85897e-09, 0.479645, -0.616289)
bones/81/rotation = Quaternion(-0.706758, 0.0222116, -0.0222116, 0.706758)
bones/82/position = Vector3(-0.0128505, -0.263341, 0.204244)
bones/82/rotation = Quaternion(-0.073842, -5.57338e-09, -0.00464592, 0.997259)

[node name="animation_tree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeStateMachine_pjgvl")
anim_player = NodePath("../AnimationPlayer")

[node name="gpu_particles_attack" type="GPUParticles3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.084022, 0.78316, 2.45072)
emitting = false
amount = 30
lifetime = 2.0
one_shot = true
explosiveness = 0.9
process_material = SubResource("ParticleProcessMaterial_3kauh")
draw_pass_1 = SubResource("PlaneMesh_2ct1d")

[node name="gpu_particles_died" type="GPUParticles3D" parent="." index="4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0170799, 1.29493, -0.192439)
emitting = false
amount = 30
lifetime = 2.0
one_shot = true
explosiveness = 0.9
process_material = SubResource("ParticleProcessMaterial_3kauh")
draw_pass_1 = SubResource("PlaneMesh_2ct1d")
